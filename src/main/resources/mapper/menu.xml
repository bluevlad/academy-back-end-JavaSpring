<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.academy.mapper.MenuMapper">

    <!-- 전체 메뉴 조회 (flat list). acm_menu_mst 테이블을 기반으로 필요한 컬럼을 반환 -->
    <select id="selectMenuList" resultType="org.json.simple.JSONObject" parameterType="com.academy.menu.service.MenuVO">
        SELECT menu_no, menu_id, menu_title, menu_type, menu_icon, menu_url, menu_exact, menu_target,
               menu_breadcrumbs, menu_external, menu_left, menu_path, menu_element, menu_layout,
               menu_upper_id, menu_depth, is_use
        FROM acm_menu_mst
        WHERE 1=1
        <if test="isUse != null and isUse != ''">
            AND is_use = #{isUse}
        </if>
        ORDER BY menu_upper_id, menu_sort
    </select>

</mapper>
